---
title: 家庭组网踩坑：用两台路由器实现 iPhone 无缝漫游
date: 2026-02-20 13:59:50
tags:
  - 家庭组网
  - 路由器
  - WiFi
  - 网络
categories: 生活
abbrlink: home-network-issues
---

只要保证两台路由器的 SSID（Wi-Fi 名称）、密码和协议完全一致，设备基本都能实现自动无缝切换。更关键的是让它们处于**同一网段**——这样切换时内网 IP 不变，体验才真正丝滑。

<!-- more -->

## 背景

家里有两台小米路由器：一台 **AX3000T** 放在客厅，一台**小米路由器3** 放在卧室，各自发出独立的 Wi-Fi。

Android 手机还好，能相对快速地切换；但 iPhone 出了名的"黏网"——连接弱信号时死活不切换，得等到彻底断线才自动跳过去。进了卧室还抱着客厅的弱信号，刷视频卡顿、消息延迟，家里人还不知道原因在哪。

于是我花了一两个小时，靠着豆包辅助梳理方案，把两台路由器改造成了一套无缝漫游的局域网。

## 梳理现状

改造前的网络拓扑：

```
光猫 ├── 网线 → AX3000T（客厅）
     └── 网线 → 墙内暗线 → 小米路由器3（卧室）
```

两台路由器各自独立，各有一套 DHCP，各自分配不同网段的 IP——这才是"无缝漫游"无从谈起的根源。

## 常见组网方案

经过调研，家庭场景主要有三种方式：

| 方案 | 优点 | 缺点 |
|------|------|------|
| **Mesh 组网** | 无缝漫游，自动管理 | 需要全套设备支持 |
| **路由器桥接（AP 模式）** | 同网段，漫游体验好 | 子路由器失去路由功能 |
| **路由器中继** | 配置简单 | 独立网段，漫游时 IP 会变 |

AX3000T 支持 Mesh，但小米路由器3 不支持，排除。

有线连接是现成的（墙内已有暗线），所以最佳方案是**路由器桥接（AP 模式）**：将小米路由器3 配置为 AP，挂载到 AX3000T 的局域网下，所有设备同处一个网段。

## 踩坑过程

### 坑一：网线接法错误

改造后发现小米路由器3 获取到的 IP 是 `192.168.1.x`，而 AX3000T 的网段是 `192.168.31.x`，两台不在同一网段。

排查后发现：光猫出了两根线，一根到 AX3000T，**另一根直接接到了墙孔**——小米路由器3 实际上是直连光猫，而不是通过 AX3000T。所以它拿到的是光猫分配的 IP，而非主路由器的网段。

正确的接法应该是：

```
光猫 → AX3000T（WAN 口）→ AX3000T（LAN 口）→ 墙内暗线 → 小米路由器3
```

### 坑二：接口接错了

小米路由器3 的网线接的是 **WAN 口**。这样它会把 AX3000T 当作上游路由器再做一次 NAT，形成双重路由，网段自然不同。

AP 模式下应该接 **LAN 口**——路由器退化为纯交换机 + 无线接入点，不做 NAT，直接透传同一网段。

## 正确配置方式

**接线**：光猫 → AX3000T（WAN 口）→ AX3000T（LAN 口）→ 墙内暗线 → 小米路由器3（**LAN 口**）

**小米路由器3 的设置**：

- SSID、密码、加密协议与 AX3000T **保持完全一致**
- 手动指定固定 IP（如 `192.168.31.2`），避免冲突
- **关闭 DHCP 服务**，由 AX3000T 统一分配地址

## 最终效果

改造完成后，两台路由器共用一个 Wi-Fi 名，同一网段，DHCP 由主路由器统一管理。iPhone 在客厅和卧室间走动，会自动根据信号强度切换接入点，内网 IP 不变，连接不中断。

整个过程最关键的两点：

- **同一 SSID + 密码 + 协议** → 设备认为是同一个网络，才会触发自动切换
- **同一网段（关闭子路由器 DHCP + LAN 口接入）** → 切换时 IP 不变，体验才真正丝滑

## 关于用 AI 辅助解决问题的一点感受

这次全程用豆包来梳理思路和排查问题，总体体验还不错，但也暴露了一些局限。

**记忆会衰减。** 对话一长，豆包就容易"忘事"——前面说过的网络结构、排查结论，后面又要重新交代一遍。这不是 AI 独有的问题，本质是上下文窗口的限制，但实际用起来确实增加了不少沟通成本。

**容易给"能用"的方案，而不是"最优"的方案。** 遇到问题时，豆包给出的第一反应往往是"你试试这个设置"，而不是先解释清楚为什么会出现这个问题、底层原理是什么。凑活能跑，但不知道为什么能跑，下次遇到类似问题还是一头雾水。这时候需要主动追问："为什么会这样？原理是什么？"才能得到真正有用的解释。

**补充实际场景是最有效的引导方式。** 描述越具体，回答越准确。比如与其说"路由器连不上"，不如说"小米路由器3 获取到的 IP 是 192.168.1.4，主路由器网段是 192.168.31.x，我想让它们在同一网段"——这样 AI 才能给出针对性的排查路径，而不是泛泛地列一堆通用步骤。

所以提示词工程还是有价值的，本质是**把问题描述清楚、主动引导 AI 讲原理**，而不只是等它给答案。光靠随口问，效果确实有限。

**更深的感受是：AI 解决具体问题时，定位还是辅助，而不是外包。** 可以让它帮你梳理思路、列出方案、解释原理，但最终的决策还是要自己来——根据各方案的优劣势做 trade off，结合自己的实际场景拍板。这次如果完全听 AI 说什么就做什么，大概率还是会在"网线接法"那个坑里绕很久。

这也让我想到 Claude 的 Plan 模式——先让 AI 把所有方案、依赖、风险梳理成一份计划，人来审阅和拍板，确认后再执行。这种人机协作的节奏感觉是对的：AI 负责信息密度，人负责判断和决策。可惜豆包目前还没有类似的模式，否则这次的体验应该会顺畅不少。
